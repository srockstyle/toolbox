# Crontab

crontabの設定例。

```shell
$ crontab -e
#0分ごとに実行する
0 * * * * [コマンド]
#5分おきに実行する
*/5 * * * * [コマンド]
#1日1回，0時0分に実行する
0 0 * * * [コマンド]
#0時から23時までの2時間おきに，毎23分ごとに実行する
23 * 0-23/2 * * [コマンド]
#1月と12月それぞれの1～20日，23時0分に実行する
* 23 1-20 1,12 * [コマンド]
#日曜日（0）から土曜日（6）まで1分おきに実行する
*/1 * * * 0-6 [コマンド]
```

## トラブル例

僕が出会ったトラブルを見ていきます。

### 一般ユーザのcronが動かない

一部、crondが初めから入ってなかったりして動作してないサーバがあるようです。

以下を行ってください。

```CentOS6
# /etc/init.d/crond start
# chkconfig crond on
```

```Centos7
# systemctl start crond
# systemctl enable crond
```

### 5分ごとに動かしたいけどうごかない

書き方を間違える場合が結構あります。直しましょ。

```crond
# 1時間に一度、5分に実行

5 * * * * <cmd>
```

```crond
# 5分ごとじっこう
*/5 * * * * <cmd>
```


